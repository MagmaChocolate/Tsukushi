<?php
/*
LICENSE: GPL v2


Copyright 2017 MagCho, uria

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
 */

function remove_aa($text){
return str_replace(["^_^","^ ^","^ - ^","＾＾","(^^)","(^ ^)","(^.^)","(^｡^)","(^-^)","(^_^)","（＾_＾）","（＾ν＾）","（＾ω＾）","( ^ω^ )","(o^^o)",")^o^(","( ◠‿◠ )","（╹◡╹）","^o^","(^o^)","(^O^)","(^○^)","（＾∇＾）","（＾◇＾）","（＾Ｏ＾）","( ＾∀＾)","(°▽°)","(ﾟ∀ﾟ)","(⌒▽⌒)","(￣▽￣)","(￣∇￣)","(￣∀￣)","(^_-)","(＾ｰ^)","(´∀｀)","( ＾∀＾)","(￣▽￣)","( ´∀｀)","( ´ ▽ ` )","(о´∀`о)","( ° ʖ °)","(*^^*)","(*^_^*)","(*^ω^*)","(^_^*)","=(^.^)=","(*☻-☻*)","(*^o^*)","(*^◯^*)","(o^^o)","(*^▽^*)","(*ﾟ∀ﾟ*)","(*ﾟ▽ﾟ*)","(*'▽'*)","(≧∀≦)","(*≧∀≦*)","(〃ω〃)","(//∇//)","\(//∇//)\\","(#^.^#)","（≧∇≦）","*´꒳`*)","(*´∀｀*)","(*´∇｀*)","(⌒▽⌒)","(=´∀｀)","(´∀｀*)","(*´-`)","(´∀｀=)","(^_-)","(*´ー｀*)","(＾ｰ^)","(*´◒`*)","(*´ω`*)","(*´ω｀*)","(*´Д｀*)","(о´∀`о)","(●´ω｀●)","(*'ω'*)","(*^^*)","(๑>◡<๑)","(๑･̑◡･̑๑)(*⁰▿⁰*)","(๑╹ω╹๑ )","(๑˃̵ᴗ˂̵)","（╹◡╹）♡","╰(*´︶`*)╯♡","(((o(*ﾟ▽ﾟ*)o)))♡","( ✌'ω')✌","✌('ω')✌","✌('ω'✌ )","(☝ ՞ਊ ՞)☝","(^^)v","(^-^)v","(^_^)v","(^_−)−☆","(^з^)-☆","^_−☆","（＾Ｏ＾☆♪","（＾＿＾）☆","☆〜（ゝ。∂）","(*´∀`)♪","♪( ´θ｀)","♪( ´▽｀)","♪(´ε｀ )","♪（ｖ＾＿＾）ｖ","ｖ（＾＿＾ｖ）♪","♪( ´θ｀)ノ","♪(๑ᴖ◡ᴖ๑)♪","٩( 'ω' )و","٩(๑❛ᴗ❛๑)۶","٩(^‿^)۶","٩( ᐛ )و","ᕦ(ò_óˇ)ᕤ","p(^_^)q","ψ(｀∇´)ψ","W(`0`)W","_(:3 」∠)_","_(┐「ε:)_","_(:3」z)_","|(￣3￣)|","d(￣ ￣)","d(^_^o)","-_-b","(^_^)a","m(._.)m","m(__)m","m(_ _)m","＿|￣|○","(｀_´)ゞ","(￣^￣)ゞ","ʅ（◞‿◟）ʃ","ƪ(˘⌣˘)ʃ","_:(´ཀ`」 ∠):","(｀・∀・´)","(｀・ω・´)","(=^▽^)σ","（^人^）","o(^-^)o","o(^_-)O","o(^_^)o","o(^o^)o","o(^▽^)o","(＞人＜;)","((o(^∇^)o))","(((o(*ﾟ▽ﾟ*)o)))","( ´Д`)y━･~~","(-.-)y-., o O","(-.-;)y-~~~","∩^ω^∩","(u_u)","(p_-)","(@￣ρ￣@)","(_ _).｡o○","（´-`）.｡oO","(-_-)zzz","(( _ _ ))..zzzZZ","_φ(･_･","＿φ(￣ー￣ )","( T_T)＼(^-^ )","(=´∀｀)人(´∀｀=)","♪(*^^)o∀*∀o(^^*)♪","ヽ(￣д￣;)ノ=3=3=3","o(･x･)/","ε=ε=ε=ε=ε=ε=┌(;￣◇￣)┘","⊂((・x・))⊃","⊂((・⊥・))⊃","U・x・U","U^ェ^U","(=^x^=)","(=^ェ^=)","∧( 'Θ' )∧","ϵ( 'Θ' )϶","@(・●・)@","(￣(工)￣)","ʕ•ᴥ•ʔ","(ᵔᴥᵔ)","☆彡",">* ))))><","( ˊ̱˂˃ˋ̱ )","★彡","☆*:.｡. o(≧▽≦)o .｡.:*☆","♪───Ｏ（≧∇≦）Ｏ────♪","＼＼\\\\٩( 'ω' )و //／／","･:*+.\(( °ω° ))/.:+","˚✧₊⁎❝᷀ົཽ≀ˍ̮ ❝᷀ົཽ⁎⁺˳✧༚","*･゜ﾟ･*:.｡..｡.:*･'(*ﾟ▽ﾟ*)'･*:.｡. .｡.:*･゜ﾟ･*","ʕ•̫͡•ʕ•̫͡•ʔ•̫͡•ʔ•̫͡•ʕ•̫͡•ʔ•̫͡•ʕ•̫͡•ʕ•̫͡•ʔ•̫͡•ʔ•̫͡•ʕ•̫͡•ʔ•̫͡•ʔ","( *｀ω´)","o(｀ω´ )o","(￣^￣)","(⁎⁍̴̆Ɛ⁍̴̆⁎)","(ㆀ˘･з･˘)","(・Д・)","( ﾟдﾟ)","(ﾟωﾟ)","(o_o)","(O_O)","(OvO)","(@_@)","(*_*)","(°_°)","(・・?)","(´⊙ω⊙`)","ʕʘ‿ʘʔ","／(^o^)＼","(๑•ૅㅁ•๑)","Σ(-᷅_-᷄๑)","Σ੧(❛□❛✿)","Σ('◉⌓◉’)","∑(ﾟДﾟ)","Σ(￣。￣ﾉ)ﾉ","Σ（ﾟдﾟlll）","(΄◉◞౪◟◉｀)",":(；ﾞﾟ'ωﾟ'):","((((；ﾟДﾟ)))))))","＼＼\٩(๑`^´๑)۶//／／","(● ˃̶͈̀ロ˂̶͈́)੭ꠥ⁾⁾","(;_;)","(;o;)","（ ; ; ）","(´；ω；`)","(´；Д；`)","（ ;  ; ）","(；ω；)","( ；∀；)","(/ _ ; )","(TT)","(T-T)","(T_T)","(ToT)","(T . T)","(T ^ T)","(Ｔ＿Ｔ)","T^T","T_T","（；＿；）","（ ｉ _ ｉ ）","(´༎ຶོρ༎ຶོ`)","(´°̥̥̥̥ω°̥̥̥̥｀)",".°(ಗдಗ。)°.",">_<","(>_<)","(＞＜)","(>_>)","(ノ_＜)","｡ﾟ(ﾟ´ω`ﾟ)ﾟ｡","｡ﾟ(ﾟ´Д｀ﾟ)ﾟ｡","。・゜・(ノД`)・゜・。","。・°°・(＞_＜)・°°・。","( ・∇・)","( ˙-˙ )","(・∀・)","(・ω・)","(｡･ω･｡)","(-_-)","(¬_¬)","(｡-_-｡)","(。-∀-)","( ˘ω˘ )","('ω')","(´ｰ｀)","(´ω｀)","( ´_ゝ`)","(￣ー￣)","（￣+ー￣）","(^^)/","(^-^)/","(^o^)/","(^O^)／","*\(^o^)/*","( ´ ▽ ` )ﾉ","(*ﾟ▽ﾟ)ﾉ","(￣Д￣)ﾉ","(*･ω･)ﾉ","(=ﾟωﾟ)ﾉ","(・ω・)ノ","(・Д・)ノ","(つД`)ノ","ヽ(*´∀｀)","ヽ(^o^)","ヽ(´o｀；","ヽ(´ー｀)","ヽ(・∀・)","ヽ(；▽；)","＼(^^)／","＼(^-^)／","＼(^o^)／","＼(^ω^)／","\( ˆoˆ )/","ヽ(´▽｀)/","ヽ(；▽；)ノ","ヽ(*＾ω＾*)ﾉ","＼( 'ω')／","ヾ(＠⌒ー⌒＠)ノ","ヾ(๑╹◡╹)ﾉ\"","╰(*´︶`*)╯","（・◇・）/~~~","(^^)／~~~","( ^_^)/~~~","(ToT)/~~~","( ; _ ; )/~~~","(◞‸◟)","(..)","(._.)","^^;","^_^;","(^^;;","(^^;","(^^;)","(^_^;)","(^-^;","(^◇^;)","f^_^;","σ(^_^;)","σ^_^;","(･･;)","(･_･;","(・・;)","(ｰｰ;)","(ｰ ｰ;)","(-_-;)","(-｡-;","~_~;","(~_~;)","´д` ;","(;´д｀)","(；´Д`A","( ；´Д｀)","ε-(´∀｀; )","(ﾟoﾟ;;","(⌒-⌒; )","(￣O￣;)","(￣◇￣;)","(￣▽￣;)","（ーー；）","（−＿−；）","（；￣ェ￣）","Σ（・□・；）","(´･_･`)","(´･Д･)」","(´･ω･`)","(´・ω・)","(´・∀・｀)","(´・ω・｀)","(・ω・｀)","(´-ω-`)","(´ω`)","( ´△｀)","(´Д` )","(ﾉД`)","orz","囧","囧rz","ಠ_ಠ","(c\" ತ,_ತ)",":;(∩´﹏`∩);:","ʕ⁎̯͡⁎ʔ༄","(笑)","(爆)","(苦笑)","(汗)","(大汗)"],"",$text);
}

function extract_aa($text){
	$arr = ["^_^","^ ^","^ - ^","＾＾","(^^)","(^ ^)","(^.^)","(^｡^)","(^-^)","(^_^)","（＾_＾）","（＾ν＾）","（＾ω＾）","( ^ω^ )","(o^^o)",")^o^(","( ◠‿◠ )","（╹◡╹）","^o^","(^o^)","(^O^)","(^○^)","（＾∇＾）","（＾◇＾）","（＾Ｏ＾）","( ＾∀＾)","(°▽°)","(ﾟ∀ﾟ)","(⌒▽⌒)","(￣▽￣)","(￣∇￣)","(￣∀￣)","(^_-)","(＾ｰ^)","(´∀｀)","( ＾∀＾)","(￣▽￣)","( ´∀｀)","( ´ ▽ ` )","(о´∀`о)","( ° ʖ °)","(*^^*)","(*^_^*)","(*^ω^*)","(^_^*)","=(^.^)=","(*☻-☻*)","(*^o^*)","(*^◯^*)","(o^^o)","(*^▽^*)","(*ﾟ∀ﾟ*)","(*ﾟ▽ﾟ*)","(*'▽'*)","(≧∀≦)","(*≧∀≦*)","(〃ω〃)","(//∇//)","\(//∇//)\\","(#^.^#)","（≧∇≦）","*´꒳`*)","(*´∀｀*)","(*´∇｀*)","(⌒▽⌒)","(=´∀｀)","(´∀｀*)","(*´-`)","(´∀｀=)","(^_-)","(*´ー｀*)","(＾ｰ^)","(*´◒`*)","(*´ω`*)","(*´ω｀*)","(*´Д｀*)","(о´∀`о)","(●´ω｀●)","(*'ω'*)","(*^^*)","(๑>◡<๑)","(๑･̑◡･̑๑)(*⁰▿⁰*)","(๑╹ω╹๑ )","(๑˃̵ᴗ˂̵)","（╹◡╹）♡","╰(*´︶`*)╯♡","(((o(*ﾟ▽ﾟ*)o)))♡","( ✌'ω')✌","✌('ω')✌","✌('ω'✌ )","(☝ ՞ਊ ՞)☝","(^^)v","(^-^)v","(^_^)v","(^_−)−☆","(^з^)-☆","^_−☆","（＾Ｏ＾☆♪","（＾＿＾）☆","☆〜（ゝ。∂）","(*´∀`)♪","♪( ´θ｀)","♪( ´▽｀)","♪(´ε｀ )","♪（ｖ＾＿＾）ｖ","ｖ（＾＿＾ｖ）♪","♪( ´θ｀)ノ","♪(๑ᴖ◡ᴖ๑)♪","٩( 'ω' )و","٩(๑❛ᴗ❛๑)۶","٩(^‿^)۶","٩( ᐛ )و","ᕦ(ò_óˇ)ᕤ","p(^_^)q","ψ(｀∇´)ψ","W(`0`)W","_(:3 」∠)_","_(┐「ε:)_","_(:3」z)_","|(￣3￣)|","d(￣ ￣)","d(^_^o)","-_-b","(^_^)a","m(._.)m","m(__)m","m(_ _)m","＿|￣|○","(｀_´)ゞ","(￣^￣)ゞ","ʅ（◞‿◟）ʃ","ƪ(˘⌣˘)ʃ","_:(´ཀ`」 ∠):","(｀・∀・´)","(｀・ω・´)","(=^▽^)σ","（^人^）","o(^-^)o","o(^_-)O","o(^_^)o","o(^o^)o","o(^▽^)o","(＞人＜;)","((o(^∇^)o))","(((o(*ﾟ▽ﾟ*)o)))","( ´Д`)y━･~~","(-.-)y-., o O","(-.-;)y-~~~","∩^ω^∩","(u_u)","(p_-)","(@￣ρ￣@)","(_ _).｡o○","（´-`）.｡oO","(-_-)zzz","(( _ _ ))..zzzZZ","_φ(･_･","＿φ(￣ー￣ )","( T_T)＼(^-^ )","(=´∀｀)人(´∀｀=)","♪(*^^)o∀*∀o(^^*)♪","ヽ(￣д￣;)ノ=3=3=3","o(･x･)/","ε=ε=ε=ε=ε=ε=┌(;￣◇￣)┘","⊂((・x・))⊃","⊂((・⊥・))⊃","U・x・U","U^ェ^U","(=^x^=)","(=^ェ^=)","∧( 'Θ' )∧","ϵ( 'Θ' )϶","@(・●・)@","(￣(工)￣)","ʕ•ᴥ•ʔ","(ᵔᴥᵔ)","☆彡",">* ))))><","( ˊ̱˂˃ˋ̱ )","★彡","☆*:.｡. o(≧▽≦)o .｡.:*☆","♪───Ｏ（≧∇≦）Ｏ────♪","＼＼\\\\٩( 'ω' )و //／／","･:*+.\(( °ω° ))/.:+","˚✧₊⁎❝᷀ົཽ≀ˍ̮ ❝᷀ົཽ⁎⁺˳✧༚","*･゜ﾟ･*:.｡..｡.:*･'(*ﾟ▽ﾟ*)'･*:.｡. .｡.:*･゜ﾟ･*","ʕ•̫͡•ʕ•̫͡•ʔ•̫͡•ʔ•̫͡•ʕ•̫͡•ʔ•̫͡•ʕ•̫͡•ʕ•̫͡•ʔ•̫͡•ʔ•̫͡•ʕ•̫͡•ʔ•̫͡•ʔ","( *｀ω´)","o(｀ω´ )o","(￣^￣)","(⁎⁍̴̆Ɛ⁍̴̆⁎)","(ㆀ˘･з･˘)","(・Д・)","( ﾟдﾟ)","(ﾟωﾟ)","(o_o)","(O_O)","(OvO)","(@_@)","(*_*)","(°_°)","(・・?)","(´⊙ω⊙`)","ʕʘ‿ʘʔ","／(^o^)＼","(๑•ૅㅁ•๑)","Σ(-᷅_-᷄๑)","Σ੧(❛□❛✿)","Σ('◉⌓◉’)","∑(ﾟДﾟ)","Σ(￣。￣ﾉ)ﾉ","Σ（ﾟдﾟlll）","(΄◉◞౪◟◉｀)",":(；ﾞﾟ'ωﾟ'):","((((；ﾟДﾟ)))))))","＼＼\٩(๑`^´๑)۶//／／","(● ˃̶͈̀ロ˂̶͈́)੭ꠥ⁾⁾","(;_;)","(;o;)","（ ; ; ）","(´；ω；`)","(´；Д；`)","（ ;  ; ）","(；ω；)","( ；∀；)","(/ _ ; )","(TT)","(T-T)","(T_T)","(ToT)","(T . T)","(T ^ T)","(Ｔ＿Ｔ)","T^T","T_T","（；＿；）","（ ｉ _ ｉ ）","(´༎ຶོρ༎ຶོ`)","(´°̥̥̥̥ω°̥̥̥̥｀)",".°(ಗдಗ。)°.",">_<","(>_<)","(＞＜)","(>_>)","(ノ_＜)","｡ﾟ(ﾟ´ω`ﾟ)ﾟ｡","｡ﾟ(ﾟ´Д｀ﾟ)ﾟ｡","。・゜・(ノД`)・゜・。","。・°°・(＞_＜)・°°・。","( ・∇・)","( ˙-˙ )","(・∀・)","(・ω・)","(｡･ω･｡)","(-_-)","(¬_¬)","(｡-_-｡)","(。-∀-)","( ˘ω˘ )","('ω')","(´ｰ｀)","(´ω｀)","( ´_ゝ`)","(￣ー￣)","（￣+ー￣）","(^^)/","(^-^)/","(^o^)/","(^O^)／","*\(^o^)/*","( ´ ▽ ` )ﾉ","(*ﾟ▽ﾟ)ﾉ","(￣Д￣)ﾉ","(*･ω･)ﾉ","(=ﾟωﾟ)ﾉ","(・ω・)ノ","(・Д・)ノ","(つД`)ノ","ヽ(*´∀｀)","ヽ(^o^)","ヽ(´o｀；","ヽ(´ー｀)","ヽ(・∀・)","ヽ(；▽；)","＼(^^)／","＼(^-^)／","＼(^o^)／","＼(^ω^)／","\( ˆoˆ )/","ヽ(´▽｀)/","ヽ(；▽；)ノ","ヽ(*＾ω＾*)ﾉ","＼( 'ω')／","ヾ(＠⌒ー⌒＠)ノ","ヾ(๑╹◡╹)ﾉ\"","╰(*´︶`*)╯","（・◇・）/~~~","(^^)／~~~","( ^_^)/~~~","(ToT)/~~~","( ; _ ; )/~~~","(◞‸◟)","(..)","(._.)","^^;","^_^;","(^^;;","(^^;","(^^;)","(^_^;)","(^-^;","(^◇^;)","f^_^;","σ(^_^;)","σ^_^;","(･･;)","(･_･;","(・・;)","(ｰｰ;)","(ｰ ｰ;)","(-_-;)","(-｡-;","~_~;","(~_~;)","´д` ;","(;´д｀)","(；´Д`A","( ；´Д｀)","ε-(´∀｀; )","(ﾟoﾟ;;","(⌒-⌒; )","(￣O￣;)","(￣◇￣;)","(￣▽￣;)","（ーー；）","（−＿−；）","（；￣ェ￣）","Σ（・□・；）","(´･_･`)","(´･Д･)」","(´･ω･`)","(´・ω・)","(´・∀・｀)","(´・ω・｀)","(・ω・｀)","(´-ω-`)","(´ω`)","( ´△｀)","(´Д` )","(ﾉД`)","orz","囧","囧rz","ಠ_ಠ","(c\" ತ,_ತ)",":;(∩´﹏`∩);:","ʕ⁎̯͡⁎ʔ༄","(笑)","(爆)","(苦笑)","(汗)","(大汗)"];
	foreach ($arr as $key => $value) {
		if(strpos($text,$value)){
			$return[] = $value;
		}
	}
	return $return;
}
